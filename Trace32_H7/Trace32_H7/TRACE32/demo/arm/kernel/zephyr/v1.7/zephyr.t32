;@Extension.Container.Version.1
;-- DO NOT CHANGE THE LINE ABOVE --
IF (VERSION.BUILD.BASE()<138311.)
(
  PRINTF %ERROR "%s: Software too old, please contact support@lauterbach.com." "Zephyr"
  ENDDO
)

PMACRO.EXPLICIT
PRIVATE &sParamline &sPpf &sCmd &sParameters &sAccess &sAccessSpaces &sAccessMachine &sOptionAccess &sOptionAccessMisc &sName &sMachine &sArguments &nVariant
PRIVATE &bTaskConfig &bExtLoad &bCleanup
ENTRY &sCmd %LINE &sParamline
&sParameters=STRing.SCANAndExtract("&sParamline","PARAMETERS=","")
&sAccess=STRing.SCANAndExtract("&sParamline","ACCESS=","")
&sAccessSpaces=STRing.SCANAndExtract("&sParamline","ACCESSSPACES=","")
&sAccessMachine=STRing.SCANAndExtract("&sParamline","ACCESSMACHINE=","")
&sName=STRing.SCANAndExtract("&sParamline","NAME=","")
&sMachine=STRing.SCANAndExtract("&sParamline","MACHINE=","")
&sArguments=STRing.SCANAndExtract("&sParamline","ARGUMENTS=","")

&sParameters=STRing.Replace("&sParameters","""","",0.)
IF ("&sArguments"!="")
  &sArguments=&sArguments
IF ("&sAccess"!="")
  &sOptionAccess="/ACCESS &sAccess"
IF ("&sAccessSpaces"!="")
  &sOptionAccessMisc="/ACCESSSPACES &sAccessSpaces"
IF ("&sAccessMachine"!="")
  &sOptionAccessMisc="&(sOptionAccessMisc) /ACCESSMACHINE &sAccessMachine"
&sName=STRing.Replace("&sName","""","",0.)

&bTaskConfig=STRing.SCAN("task.config,ext.config",STRing.LoWeR("&sCmd"),0.)>=0.
&bExtLoad=STRing.SCAN("ext.load",STRing.LoWeR("&sCmd"),0.)>=0.
&bCleanup=STRing.SCAN("task.res,ext.res,ext.delete",STRing.LoWeR("&sCmd"),0.)>=0.
&sPpf=OS.PresentPracticeFile()

IF (&bTaskConfig||&bExtLoad)
(
  IF ("&nVariant"!="32.")&&("&nVariant"!="64.")
  (
    IF CPUIS64BIT()
      &nVariant="64."
    ELSE
      &nVariant="32."
  )

  IF STRing.ComPare("&sArguments","*32BIT*")
    &nVariant="32."
  ELSE IF STRing.ComPare("&sArguments","*64BIT*")
    &nVariant="64."
)

IF (&bTaskConfig)
(
  PRIVATE &sMachineName
  &sMachineName="Zephyr"
  TASK.RESet
  IF (&nVariant==32.)
  (
    GOSUB extension_32bit "&sParameters" "&sOptionAccess"
    IF !STRing.Compare("&sArguments","*MENU=NONE*")
      GOSUB menu_32bit "&sMachineName" ""
    GOSUB autoload_32bit ""
  )
  ELSE IF (&nVariant==64.)
  (
    PRINTF %ERROR "%s: No support for %ubit, please contact support@lauterbach.com." "Zephyr" &nVariant
  )
)
ELSE IF (&bExtLoad)
(
  PRIVATE &sMachineName &sInfix &sOptionName &sOptionMachine
  &sInfix=""
  &sMachineName="Zephyr"
  IF ("&sName"!="")
  (
    &sInfix=STRing.UPpeR("&(sName).")
    &sMachineName="&(sName)"
    &sOptionName="/NAME &sMachineName"
  )
  ELSE IF PRACTICE.FUNCtion.AVAILable(SYStem.Option.MACHINESPACES)
  (
    IF SYStem.Option.MACHINESPACES()
      &sInfix=TASK.TRANSPOSE.INFIX(OS.FILE.BASENAME("&sPpf",".**"))+"."
  )
  IF ("&sMachine"!="")
  (
    &sOptionMachine="/MACHINE &sMachine"
  )
  IF (&nVariant==32.)
  (
    GOSUB extension_32bit "&sParameters" "&sOptionAccess &sOptionAccessMisc &sOptionName &sOptionMachine"
    IF !STRing.Compare("&sArguments","*MENU=NONE*")
      GOSUB menu_32bit "&sMachineName" "&sInfix"
    GOSUB autoload_32bit "&sOptionMachine"
  )
  ELSE IF (&nVariant==64.)
  (
    PRINTF %ERROR "%s: No support for %ubit, please contact support@lauterbach.com." "Zephyr" &nVariant
  )
)
ELSE IF (&bCleanup)
(
  PRIVATE &sMachineName &sOptionMachine

  &sMachineName="Zephyr"
  IF ("&sName"!="")
  (
    &sMachineName="&(sName)"
  )
  IF ("&sMachine"!="")
  (
    &sOptionMachine="/MACHINE &sMachine"
  )
  IF STRing.SCAN(HELP.FILTER(),"rtoszephyr",0.)>=0.
    HELP.FILTER.Delete rtoszephyr
  GOSUB menu_delete "&sMachineName"
  GOSUB autoload_delete "&sOptionMachine"
)

ENDDO

extension_32bit: ; (options)
(
  PARAMETERS &sParameters &sOptions
  EXTension.LOAD &sParameters &sOptions
  (
  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
  c3AyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABo
  dHRwczovL3N2bi5pbnRlcm4ubGF1dGVyYmFjaC5jb20vc3ZuL2tlcm5lbHNyYwAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAGJhdW1laXN0ZXIAAAAAAABlZGstbGludXg2NGJpdC00AAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAR0NDIDkuNS4wAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfoAAAA
  AQAAAB8AAABSAAAkzAAAB+cAAAAJAAAAAgAAAAAAAAAAAAAAAAAAAAAAACaqWmVwaHlyAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAF9rZXJuZWwAc3RydWN0IF9rZXJuZWwAAC5jdXJyZW50AAAAAC50aHJlYWRzAAAAAHN0
  cnVjdCBrX3RocmVhZAAuYmFzZS5rX3Ffbm9kZQAALmJhc2UudGhyZWFkX3N0YXRlAAAuYmFzZS5w
  cmlvAAAuY2FsbGVlX3NhdmVkAAAALmVudHJ5AAAubmV4dF90aHJlYWQAAAAALnN0YWNrX2luZm8u
  c3RhcnQAAAAuc3RhY2tfaW5mby5zaXplAAAAAF90cmFjZV9saXN0X2tfc2VtAAAAc3RydWN0IGtf
  c2VtAAAAAC53YWl0X3EALmNvdW50AAAubGltaXQAAC5fX25leHQAX3RyYWNlX2xpc3Rfa19tdXRl
  eABzdHJ1Y3Qga19tdXRleAAALm93bmVyAAAubG9ja19jb3VudABfdHJhY2VfbGlzdF9rX2FsZXJ0
  AHN0cnVjdCBrX2FsZXJ0AAAuaGFuZGxlcgAAAAAuc2VuZF9jb3VudAAuc2VtAAAAAF90cmFjZV9s
  aXN0X2tfcXVldWUAc3RydWN0IGtfcXVldWUAAC5kYXRhX3EAX3RyYWNlX2xpc3Rfa19zdGFjawBz
  dHJ1Y3Qga19zdGFjawAALmJhc2UAAAAubmV4dAAAAC50b3AAAAAAX3RyYWNlX2xpc3Rfa19tc2dx
  AABzdHJ1Y3Qga19tc2dxAAAALm1zZ19zaXplAAAALm1heF9tc2dzAAAALmJ1ZmZlcl9zdGFydAAA
  AC51c2VkX21zZ3MAAF90cmFjZV9saXN0X2tfbWJveAAAc3RydWN0IGtfbWJveAAAAC50eF9tc2df
  cXVldWUAAAAucnhfbXNnX3F1ZXVlAAAAX3RyYWNlX2xpc3Rfa19waXBlAABzdHJ1Y3Qga19waXBl
  AAAALmJ1ZmZlcgAuc2l6ZQAAAC5ieXRlc191c2VkAF90cmFjZV9saXN0X2tfbWVtX3NsYWIAAHN0
  cnVjdCBrX21lbV9zbGFiAAAALm51bV9ibG9ja3MALmJsb2NrX3NpemUALm51bV91c2VkAAAAX3Ry
  YWNlX2xpc3Rfa190aW1lcgBzdHJ1Y3Qga190aW1lcgAALmV4cGlyeV9mbgAALnBlcmlvZABfd2Fp
  dF9xX3QAAAAuaGVhZAAAAHN0cnVjdCBfY2FsbGVlX3NhdmVkAAAAAC5wc3AAAAAAJTNkLgAAAAAl
  ZC4AJTh4AExpc3QgJXgAbm8gdGhyZWFkIGxpc3QgYXZhaWxhYmxlIChrZXJuZWwgd2l0aG91dCBD
  T05GSUdfVEhSRUFEX01PTklUT1I/KQoAAABWYXIuVmlldyAlJU9wZW4gKHN0cnVjdCBrX3RocmVh
  ZCopJXgAAAAAVEFTSy5USFJFQUQAcnVubmluZwByZWFkeQAAAGR1bW15AAAAZGVhZAAAAABwcmVz
  dGFydAAAAABwZW5kaW5nAHN1c3BlbmRlZAAAAHBvbGxpbmcAKCUyeCkAAABtYWdpYyAgICAAAABw
  cmlvIAAAAHN0YXRlICAgIAAAAGVudHJ5IAAAQCg9KV9fUlRPU19aRVBIWVJfX1RBU0tfVEhSRUFE
  AABjb3VudAAAAGxpbWl0AAAAd2FpdGluZyAAAAAAbWlzc2luZyBzZW1hcGhvcmUgbGlzdCAtIENP
  TkZJR19PQkpFQ1RfVFJBQ0lORz8AU0VNQVBIT1JFAAAAU0VNYXBob3JlAAAAQCg9KV9fUlRPU19a
  RVBIWVJfX1RBU0tfU0VNAG93bmVyICAgIAAAAG1pc3NpbmcgbXV0ZXggbGlzdCAtIENPTkZJR19P
  QkpFQ1RfVFJBQ0lORz8AQCg9KV9fUlRPU19aRVBIWVJfX1RBU0tfTVVURVgAAABoYW5kbGVyIAAA
  AABtaXNzaW5nIGFsZXJ0IGxpc3QgLSBDT05GSUdfT0JKRUNUX1RSQUNJTkc/AEAoPSlfX1JUT1Nf
  WkVQSFlSX19UQVNLX0FMRVJUAAAAZmlyc3QgZGF0YSBpdGVtAG1pc3NpbmcgcXVldWUgbGlzdCAt
  IENPTkZJR19PQkpFQ1RfVFJBQ0lORz8AQCg9KV9fUlRPU19aRVBIWVJfX1RBU0tfUVVFVUUAAABi
  YXNlICAgICAAAABtYXggAAAAAHVzZWQAAAAAbWlzc2luZyBzdGFjayBsaXN0IC0gQ09ORklHX09C
  SkVDVF9UUkFDSU5HPwBAKD0pX19SVE9TX1pFUEhZUl9fVEFTS19aU1RBQ0sAAGJ1ZmZlciAgIAAA
  AG1zZ3NpemUAbWlzc2luZyBtc2dxIGxpc3QgLSBDT05GSUdfT0JKRUNUX1RSQUNJTkc/AABAKD0p
  X19SVE9TX1pFUEhZUl9fVEFTS19NU0dRAAAAAG1pc3NpbmcgcGlwZSBsaXN0IC0gQ09ORklHX09C
  SkVDVF9UUkFDSU5HPwAAUElQRQAAAABAKD0pX19SVE9TX1pFUEhZUl9fVEFTS19QSVBFX1YxNwAA
  AAB0eDogAAAAAHJ4OiAAAAAAbWlzc2luZyBtYWlsYm94IGxpc3QgLSBDT05GSUdfT0JKRUNUX1RS
  QUNJTkc/AAAATUFJTEJPWABNYWlsQk9YAEAoPSlfX1JUT1NfWkVQSFlSX19UQVNLX01CT1gAAAAA
  Ymxrc2l6ZQAjYmxrcwAAACN1c2VkAAAAbWlzc2luZyBtZW1zbGFiIGxpc3QgLSBDT05GSUdfT0JK
  RUNUX1RSQUNJTkc/AAAAQCg9KV9fUlRPU19aRVBIWVJfX1RBU0tfTUVNU0xBQgBwZXJpb2QAAGV4
  cGlyeSBmbgAAAG1pc3NpbmcgdGltZXIgbGlzdCAtIENPTkZJR19PQkpFQ1RfVFJBQ0lORz8AQCg9
  KV9fUlRPU19aRVBIWVJfX1RBU0tfVElNRVIAAAAlQGNNVEQgVmVyc2lvbiAgJXMgICVzICAlMDJ1
  LiUwMnUuJTA0dSAoQnVpbGQgJXMpCgoAbWFnaWMgICAgICAgICAgICU4eCAgJTh4ICAAAGtlcm5l
  bCAgICAgICAgICAlOHggICU4eCAgAAB0aHJlYWQgbGlzdCAgICAgJTh4ICAAAABURVNUAAAAAGFy
  Z3VtZW50ICAgICAgICB2YWx1ZSAgICAgY29udGVudCAgIHN5bWJvbAAAcGFyYW1ldGVyIDE6IDB4
  JTh4ID0gJXMAbWFnaWMAAABtYWdpY3NpemUAAAB1bmtub3duIHRvcGljAAAAVEFTSy5DT05GSUcA
  X19SVE9TX1pFUEhZUl9fRlVOQwAtLS0gIFRBU0sgIG1hZ2ljID0gJTh4AAAgIG5hbWUgPSAlcyAg
  LS0tAAAAAF9fUlRPU19aRVBIWVJfX0FMAAAAX19SVE9TX1pFUEhZUl9fQVMAAABaZXBoeXIgdjEu
  NwBBUk0AREFUQQAAAAMAQQAAAAQAJAAACaQAACncAAAp3AAAKdwAACnEAAAJcAAAKZwAACmoAAAp
  sAAAKbwAAAAAAAAAAwBQAAAABABsAAAM9AAAAAIAAAAAAAAqAAAAAAAAACowAAAqYAAAKjwAACpI
  AAAMmAAAKZwAACnkAAAp7AAAKfQAAAAAAAAAAwBQAAAABAC0AAAOZAAAAAIAAAAAAAAqcAAAAAAA
  ACq0AAAqtAAAKrQAACqcAAAOCAAAKZwAACnkAAAqZAAAKfQAAAAAAAAAAwBQAAAABAD8AAAP3AAA
  AAIAAAAAAAAqyAAAAAAAACsMAAArDAAAKwwAACr0AAAPgAAAKZwAACnkAAAp7AAAKrwAAAAAAAAA
  AwBQAAAABAFEAAARZAAAAAIAAAAAAAArJAAAAAAAACtoAAAraAAAK2gAACtQAAARCAAAKZwAACsU
  AAAp9AAAAAAAAAADAFAAAAAEAYgAABLIAAAAAgAAAAAAACuMAAAAAAAAK9AAACvQAAAr0AAAK7gA
  ABJsAAApnAAAK3AAACt8AAArhAAAKfQAAAAAAAAAAwBQAAAABAHUAAAUfAAAAAIAAAAAAAAr7AAA
  AAAAACwwAAAsMAAALDAAACwYAAAUIAAAKZwAACvYAAArfAAAK4QAACvkAAAp9AAAAAAAAAADAFAA
  AAAEAiQAABY0AAAAAgAAAAAAACw4AAAAAAAALGQAACxkAAAsZAAALGwAABXYAAApnAAAK9gAACX0
  AAArhAAAKfQAAAAAAAAAAwBQAAAABAJwAAAXzAAAAAIAAAAAAAAsoAAAAAAAACzQAAAs+AAALNgA
  ACzgAAAXcAAAKZwAACn0AAAAAAAAAAMAUAAAAAQCsAAAGawAAAACAAAAAAAALRgAAAAAAAAtYAAA
  LWAAAC1gAAAtSAAAGVAAACmcAAAr2AAALQAAAC0IAAAtEAAAKfQAAAAAAAAAAwBQAAAABAMAAAAb
  ZAAAAAIAAAAAAAAtfAAAAAAAAC3AAAAtwAAALcAAAC2oAAAbCAAAKZwAAC1oAAAtcAAAAAAAAAAB
  ADwAAAAALlQAAByQAAAuTAAALkwAACycAAAsnAAAHFwAAC68AAAAAwAAABcAAAAAAAAuyAAAHowA
  AB9wAAAfzAAALwgAAB9IAAAvHAAAIFQAACycAAAvMAAALzwAAAAAVDMyRQ==
  )
  HELP.FILTER.Add rtoszephyr
  RETURN
)

menu_32bit: ;(header, infix)
(
  PMACRO.LOCK
  (
    PRIVATE &sHeader &sInfix &sMenuName
    PARAMETERS &sHeader &sInfix
    &sMenuName=TASK.TRANSPOSE.INFIX("&sHeader")
    IF MENU.EXIST("TASK.&(sMenuName)")
      MENU.Delete.NAME TASK.&(sMenuName)
    IF MENU.EXIST("EXT.&(sMenuName)")
      MENU.Delete.NAME EXT.&(sMenuName)
    MENU.ReProgram
    (&+
; --------------------------------------------------------------------------------
; @Title: Zephyr specific menu
; @Description: -
; @Author: DIE
; @Copyright: (c) 1989-2016 Lauterbach GmbH, licensed for use with TRACE32(R) only
; --------------------------------------------------------------------------------
; $Id: zephyr.m 7861 2022-07-29 13:45:42Z amerkle $

NAME "TASK.&sMenuName"

IF !MENU.EXIST("TASK.&sMenuName")
(

ADD
MENU
(
  POPUP "&sHeader"
  (
    default
    menuitem "Display &Threads"         "TASK.&(sInfix)THREAD"
    menuitem "Display &Semaphores"      "TASK.&(sInfix)SEMaphore"
    menuitem "Display &Mutexes"         "TASK.&(sInfix)MUTEX"
    menuitem "Display &Alerts"          "TASK.&(sInfix)ALERT"
    menuitem "Display &Fifos && Lifos"  "TASK.&(sInfix)QUEUE"
    menuitem "Display &Stacks"          "TASK.&(sInfix)ZSTACK"
    menuitem "Display &Message Queues"  "TASK.&(sInfix)MSGQ"
    menuitem "Display &Mailboxes"       "TASK.&(sInfix)MailBOX"
    menuitem "Display &Pipes"           "TASK.&(sInfix)PIPE"
    menuitem "Display &Memory Slabs"    "TASK.&(sInfix)MEMSLAB"
    ;menuitem "Display &Memory Pools"    "TASK.&(sInfix)MEMPOOL"
    menuitem "Display &Timers"          "TASK.&(sInfix)TIMER"
    separator
    popup "&Stack Coverage"
    (
      menuitem "&List Stacks"    "TASK.&(sInfix)STacK.view"
      menuitem "Add Task"        "TASK.&(sInfix)STacK.ADD"
      menuitem "Remove Task"     "TASK.&(sInfix)STacK.RM"
      menuitem "Reset Coverage"
      (
        PRIVATE &yes
        DIALOG.YESNO "Overwrite unused stack space" "with stack fill pattern?"
        ENTRY &yes
        IF !&yes
          ENDDO
        TASK.&(sInfix)STacK.Init
      )
    )
  )
  popup "Trace"
  (
    popup "[:alist]List"
    (
      separator
      menuitem "&Task Switches"     "Trace.List List.TASK"
      menuitem "&Default and Tasks" "Trace.List List.TASK DEFault"
    )
  )
  popup "Perf"
  (
    separator
    popup "&Task Runtime"
    (
      menuitem "&Prepare"
      (
        if t.method.analyzer()
        (
          Analyzer.AutoInit on
        )
        if trace.flow()
        (
          Break.Delete /TraceEnable
          Break.Set task.config(magic) /Write /TraceEnable
        )
        Trace.Init
      )
      menuitem "[:perf]Show &Numerical"   "Trace.STATistic.TASK"
      menuitem "[:achart]Show as &Timing" "Trace.CHART.TASK"
      menuitem "[:achart]Tracking with Trace &List"
      (
        Trace.List List.TASK DEFault /Track
        Trace.CHART.TASK /Track
      )
    )
    popup "Task &Function Runtime"
    (
      menuitem "&Prepare"
      (
        if t.method.analyzer()
        (
          Analyzer.AutoInit on
          Analyzer.STATistic.PreFetch on
        )
        if trace.flow()
        (
          Break.Delete /TraceData
          Break.Set task.config(magic) /Write /TraceData
        )
        Trace.Init
      )
      menuitem "[:perf]Show &Numerical"     "Trace.STATistic.TASKFUNC"
      menuitem "[:perf]Show as &Tree"       "Trace.STATistic.TASKTREE"
      menuitem "[:perf]Show &Detailed Tree" "Trace.STATistic.TASKTREE ALL"
      menuitem "[:achart]Show as &Timing"   "Trace.CHART.TASKFUNC"
      menuitem "[:alist]Show N&esting"      "Trace.List List.TASK FUNC TI.FUNC"
    )
    popup "Task &Status"
    (
      menuitem "&Prepare"
      (
        if t.method.analyzer()
        (
          Analyzer.AutoInit on
        )
      )
      menuitem "[:perf]Show &Numerical"   "Trace.STATistic.TASKSTATE"
      menuitem "[:achart]Show as &Timing" "Trace.CHART.TASKSTATE"
      menuitem "[:achart]Tracking with Trace &List"
      (
        Trace.List List.TASK DEFault /Track
        Trace.CHART.TASKSTATE /Track
      )
    )
  )
  popup "&Help"
  (
    MENUITEM "[:manual]OS Awareness Manual Zephyr" "HELP __RTOS_ZEPHYR_"
  )
)


menu "task.&(sInfix)thread"
(
  default
  ;menuitem "Display detailed"
  ;(
  ;  &address=address.offset(track.address())
  ;  TASK.Thread &address
  ;)
  menuitem "Display thread struct"
  (
    PRIVATE &pAddress
    &pAddress=TRACK.ADDRESS()
    Var.View %Open (struct k_thread*)(&pAddress)
  )
  separator
  menuitem "Display Stack Frame"
  (
    PRIVATE &nAddress
    &nAddress=ADDRESS.OFFSET(TRACK.ADDRESS())
    Frame /Locals /Caller /Task &nAddress
  )
  menuitem "Display Registers"
  (
    PRIVATE &nAddress
    &nAddress=ADDRESS.OFFSET(TRACK.ADDRESS())
    Register /TASK &nAddress
  )
  menuitem "Switch Context"
  (
    PRIVATE &nAddress
    &nAddress=ADDRESS.OFFSET(TRACK.ADDRESS())
    Register.TASK &nAddress
  )
  separator
  menuitem "Add to Stack Cov"
  (
    PRIVATE &nAddress
    &nAddress=ADDRESS.OFFSET(TRACK.ADDRESS())
    TASK.&(sInfix)STacK.ADD &nAddress
  )
  menuitem "Rm from Stack Cov"
  (
    PRIVATE &nAddress
    &nAddress=ADDRESS.OFFSET(TRACK.ADDRESS())
    TASK.&(sInfix)STacK.RM &nAddress
  )
  separator
  menuitem "Dump thread entry"
  (
    PRIVATE &pAddress
    &pAddress=TRACK.ADDRESS()
    Data.dump &pAddress /Long /DIALOG
  )
)

)
    )
  )
  PMACRO.UNLOCK
  RETURN
)

autoload_32bit: ;(options)
(
  PARAMETERS &sOptions
  RETURN
)



menu_delete: ;(header)
(
  PRIVATE &sHeader &sMenuName
  PARAMETERS &sHeader
  &sMenuName=TASK.TRANSPOSE.INFIX("&sHeader")
  IF MENU.EXIST("TASK.&(sMenuName)")
    MENU.Delete.NAME TASK.&(sMenuName)
  IF MENU.EXIST("EXT.&(sMenuName)")
    MENU.Delete.NAME EXT.&(sMenuName)
  RETURN
)

autoload_delete: ;(options)
(
  PARAMETERS &sOptionMachine
  RETURN
)
